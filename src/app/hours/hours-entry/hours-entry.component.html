<div class="row" *ngIf="isLoading">
  <div class="col-md-2 offset-md-5"><i fa class="fa fa-spinner fa-5x fa-pulse" aria-hidden="true"></i>
  </div>
</div>

<div *ngIf="!isLoading && hours?.TeamMemberId > 0">
  <div class="row">
    <div class="col-md-12">
      <ul class="list-unstyled">
        <li>
          <h1>Hours Worked</h1>
        </li>
        <li>Fiscal Year: {{hours?.EstimatedFiscalYear}}</li>
        <li>{{teamMember.FirstName}} {{teamMember.LastName}}</li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <button type="button" class="btn" [ngClass]="{'btn-primary': displayNonCharge}" (click)="nonChargeClicked(1)">Non Charge</button>
    </div>
    <div class="col-md-4">
      <button type="button" class="btn" [ngClass]="{'btn-primary': displayIndustryTeam}" (click)="industryTeamClicked(2)">Industry Team</button>
    </div>
    <div class="col-md-4">
      <button type="button" class="btn" [ngClass]="{'btn-primary': displayServiceLine}" (click)="serviceLineClick(3)">Service Line</button>
    </div>
  </div>
  <app-non-charge-time [hidden]="!displayNonCharge" *ngIf="categories" [category]="categories?.Categories[1]" [data]="hoursToEdit?.NonChargeList"
    (isDirty)="makeDirty()" (totalNewHours)="setNonChargeTotal($event)"></app-non-charge-time>
  <app-charge-time [hidden]="!displayIndustryTeam" *ngIf="categories" [category]="categories?.Categories[0]" [data]="hoursToEdit?.IndustryTeams"
    (isDirty)="makeDirty()" (totalNewHours)="setIndustryTeamTotal($event)"></app-charge-time>
  <app-charge-time [hidden]="!displayServiceLine" *ngIf="categories" [category]="categories?.Categories[2]" [data]="hoursToEdit?.ServiceLines"
    (isDirty)="makeDirty()" (totalNewHours)="setServiceLineTotal($event)"></app-charge-time>
  <div class="row">
    <div class="col-md-12">
      Please note: Based upon your role, natural strengths and passion on your journey to become famous, the suggested guidelines
      may need to be adjusted. Please discuss this at your next one to one meeting with your coach.
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 offset-md-8">
      <table class="table table-sm">
        <tbody>
          <tr>
            <th scope="row">Non Charge Total Hours:</th>
            <td class="text-right">{{nonChargeTotalHours}}</td>
          </tr>
          <tr>
            <th scope="row">Service Line Total Hours:</th>
            <td class="text-right">{{serviceLineTotalHours}}</td>
          </tr>
          <tr>
            <th scope="row">Total Work Hours:</th>
            <td class="text-right">{{totalWorkHours}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row" style="margin-bottom: 25px">
    <div class="col-md-2 offset-md-10">
      <button class="btn btn-success btn-block" (click)="onSave()">Save</button>
    </div>
  </div>
</div>

<div *ngIf="!isLoading && hours?.TeamMemberId === 0">
  <div class="row">
    <div class="alert alert-danger" role="alert">
      <strong>Uh Oh!</strong> There was a problem retrieving your user data, please try again. If issue persists please contact
      Help Desk.
    </div>
  </div>
</div>

<div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title pull-left">Values have been changed</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="hideModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Some values have been changed. Do you want to save them?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="confirmModalSave()">Save changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="ignoreChanges()">Ignore changes</button>
      </div>
    </div>
  </div>
</div>
