<div class="row" *ngIf="isLoading">
  <div class="col-md-2 offset-md-5"><i fa class="fa fa-spinner fa-5x fa-pulse" aria-hidden="true"></i>
  </div>
</div>

<div *ngIf="!isLoading">
  <div class="row">
    <div class="col-md-12">
      <ul class="list-unstyled">
        <li>
          <h1>Hours Worked</h1>
        </li>
        <li>Fiscal Year: {{hours?.EstimatedFiscalYear}}</li>
        <li>{{teamMember.FirstName}} {{teamMember.LastName}}</li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 text-center">
      <h2>Charge Time</h2>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <app-charge-time *ngIf="categories" [category]="categories?.Categories[2]" [data]="hours?.ServiceLines" (isDirty)="makeDirty()" (totalNewHours)="setServiceLineTotal($event)"></app-charge-time>
    </div>
    <div class="col-md-6">
      <app-charge-time *ngIf="categories" [category]="categories?.Categories[0]" [data]="hours?.IndustryTeams" (isDirty)="makeDirty()" (totalNewHours)="setIndustryTeamTotal($event)"></app-charge-time>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 text-center">
      <h2>Non-Charge Time</h2>
    </div>
  </div>
   <div class="row">
    <div class="col-md-12">
       <app-non-charge-time *ngIf="categories" [category]="categories?.Categories[1]" [data]="hours?.NonChargeList" (isDirty)="makeDirty()" (totalNewHours)="setNonChargeTotal($event)"></app-non-charge-time> 
    </div>
  </div> 
  <div class="row">
    <div class="col-md-12">
      Please note: Based upon your role, natural strengths and passion on your journey to become famous, the suggested guidelines
      may need to be adjusted. Please discuss this at your next one to one meeting with your coach.
    </div>
  </div>
      <div class="row">
      <div class="col-md-4 offset-md-8">
        <table class="table table-sm">
          <tbody>
            <tr>
              <th scope="row">Charge Time Total Hours:</th>
              <td>{{industryTeamHours + serviceLineTotalHours}}</td>
            </tr>
            <tr>
              <th scope="row">Non Charge Time Total Hours:</th>
              <td>{{nonChargeTotalHours}}</td>
            </tr>
            <tr>
              <th scope="row">Total Work Hours:</th>
              <td>{{totalWorkHours}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  <div class="row" style="margin-bottom: 25px">
    <div class="col-md-2 offset-md-10">
      <button class="btn btn-success btn-block" (click)="onSave()">Save</button>
    </div>
  </div>
</div>

<div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}"
     tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title pull-left">Values have been changed</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="hideConfirmModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Some values have been changed. Do you want to save them?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="confirmModalSave()">Save changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="hideConfirmModal()">Close</button>
      </div>
    </div>
  </div>
</div>